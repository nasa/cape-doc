<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>4.1.7. Demo 7: Data Book Plots and Reports &#8212; CAPE 2.0.0</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinxdoc.css?v=87629129" />
    <script src="../../../_static/documentation_options.js?v=51b770b3"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../../_static/NASA_logo_icon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="4.1.8. Demo 8: Powered Rocket and Thrust Vectoring" href="../08-thrust/index.html" />
    <link rel="prev" title="4.1.6. Demo 6: Line Loads on the Arrow Example" href="../06-lineload_arrow/index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../08-thrust/index.html" title="4.1.8. Demo 8: Powered Rocket and Thrust Vectoring"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../06-lineload_arrow/index.html" title="4.1.6. Demo 6: Line Loads on the Arrow Example"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">CAPE 2.0.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" ><span class="section-number">4. </span>pyCart Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" accesskey="U"><span class="section-number">4.1. </span>Examples Using pyCart</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">4.1.7. </span>Demo 7: Data Book Plots and Reports</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="demo-7-data-book-plots-and-reports">
<span id="pycart-ex-data-arrow"></span><h1><span class="section-number">4.1.7. </span>Demo 7: Data Book Plots and Reports<a class="headerlink" href="#demo-7-data-book-plots-and-reports" title="Link to this heading">¶</a></h1>
<p>Using the geometry from <a class="reference internal" href="../02-arrow/index.html#pycart-ex-arrow"><span class="std std-ref">Example 2</span></a> and <a class="reference internal" href="../06-lineload_arrow/index.html#pycart-ex-lineload-arrow"><span class="std std-ref">Example 7</span></a>, this example computes forces and moments on a
larger number of cases in order to continues the analysis and adds computation
of sectional loads. To get started, clone this repoand run the following easy
commands:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/nasa-ddalle/pycart07-data_arrow.git
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>pycart07-data_arrow
<span class="gp">$ </span>./copy-files.py
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>work/
</pre></div>
</div>
</div></blockquote>
<p>This will copy all of the files into a newly created <code class="docutils literal notranslate"><span class="pre">work/</span></code> folder. Follow
the instructions below by entering that <code class="docutils literal notranslate"><span class="pre">work/</span></code> folder; the purpose is that
you can easily delete the <code class="docutils literal notranslate"><span class="pre">work/</span></code> folder and restart the tutorial at any
time.</p>
<p>The geometry used for this shape is a capped cylinder with four fins and 9216
faces and seven components.  This example is set to run 30 cases with a square
matrix of Mach number and angle of attack.</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pycart<span class="w"> </span>-c
<span class="go">Case Config/Run Directory  Status  Iterations  Que CPU Time</span>
<span class="go">---- --------------------- ------- ----------- --- --------</span>
<span class="go">0    poweroff/m0.50a00.0   ---     /           .</span>
<span class="go">1    poweroff/m0.50a01.0   ---     /           .</span>
<span class="go">2    poweroff/m0.50a02.0   ---     /           .</span>
<span class="go">3    poweroff/m0.50a05.0   ---     /           .</span>
<span class="go">4    poweroff/m0.50a10.0   ---     /           .</span>
<span class="go">5    poweroff/m0.80a00.0   ---     /           .</span>
<span class="go">6    poweroff/m0.80a01.0   ---     /           .</span>
<span class="go">7    poweroff/m0.80a02.0   ---     /           .</span>
<span class="go">8    poweroff/m0.80a05.0   ---     /           .</span>
<span class="go">9    poweroff/m0.80a10.0   ---     /           .</span>
<span class="go">10   poweroff/m0.95a00.0   ---     /           .</span>
<span class="go">11   poweroff/m0.95a01.0   ---     /           .</span>
<span class="go">12   poweroff/m0.95a02.0   ---     /           .</span>
<span class="go">13   poweroff/m0.95a05.0   ---     /           .</span>
<span class="go">14   poweroff/m0.95a10.0   ---     /           .</span>
<span class="go">15   poweroff/m1.10a00.0   ---     /           .</span>
<span class="go">16   poweroff/m1.10a01.0   ---     /           .</span>
<span class="go">17   poweroff/m1.10a02.0   ---     /           .</span>
<span class="go">18   poweroff/m1.10a05.0   ---     /           .</span>
<span class="go">19   poweroff/m1.10a10.0   ---     /           .</span>
<span class="go">20   poweroff/m1.40a00.0   ---     /           .</span>
<span class="go">21   poweroff/m1.40a01.0   ---     /           .</span>
<span class="go">22   poweroff/m1.40a02.0   ---     /           .</span>
<span class="go">23   poweroff/m1.40a05.0   ---     /           .</span>
<span class="go">24   poweroff/m1.40a10.0   ---     /           .</span>
<span class="go">25   poweroff/m2.20a00.0   ---     /           .</span>
<span class="go">26   poweroff/m2.20a01.0   ---     /           .</span>
<span class="go">27   poweroff/m2.20a02.0   ---     /           .</span>
<span class="go">28   poweroff/m2.20a05.0   ---     /           .</span>
<span class="go">29   poweroff/m2.20a10.0   ---     /           .</span>

<span class="go">---=30,</span>
</pre></div>
</div>
</div></blockquote>
<section id="setup">
<h2><span class="section-number">4.1.7.1. </span>Setup<a class="headerlink" href="#setup" title="Link to this heading">¶</a></h2>
<p>The interesting part of the JSON setup to get the data we need for this example
is in the <code class="docutils literal notranslate"><span class="pre">&quot;Config&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;DataBook&quot;</span></code> sections.  The <code class="docutils literal notranslate"><span class="pre">&quot;Config&quot;</span></code> section
tells Cart3D which things for which to track iterative histories.  In addition,
it defines the reference area and any reference points (such as the Moment
reference point).</p>
<blockquote>
<div><div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Config&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// File to name each integer CompID and group them into families</span>
<span class="w">    </span><span class="s2">&quot;File&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;arrow.xml&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="c1">// Declare forces and moments</span>
<span class="w">    </span><span class="s2">&quot;Force&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;cap&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;body&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fins&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;arrow_no_base&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;arrow_total&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fin1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fin2&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fin3&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fin4&quot;</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="s2">&quot;RefPoint&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;arrow_no_base&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;MRP&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;arrow_total&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;MRP&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fins&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;MRP&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fin1&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;MRP&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fin2&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;MRP&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fin3&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;MRP&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fin4&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;MRP&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="c1">// Define some points for easier reference</span>
<span class="w">    </span><span class="s2">&quot;Points&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;MRP&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">3.5</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="c1">// Reference quantities</span>
<span class="w">    </span><span class="s2">&quot;RefArea&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">3.14159</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;RefLength&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>The <em>Config&gt;Force</em> instructs Cart3D to report the force on the named components
at each iteration (in addition to any components in the template <code class="docutils literal notranslate"><span class="pre">input.cntl</span></code>
file).  In particular, it adds a line such as <code class="docutils literal notranslate"><span class="pre">Force</span> <span class="pre">cap</span></code> for each listed
component.  The <em>Config&gt;RefPoint</em> performs a similar function to report the
moment at each iteration as well.  In Cart3D, it is possible to have a force
only, a moment only, or both.  Either way, forces and/or moments will be put
into the file <code class="docutils literal notranslate"><span class="pre">cap.dat</span></code>.</p>
<p>Each component requesting a moment needs a moment reference point.  Instead of
typing out the moment reference point for each requested moment, we define a
reference point called <code class="docutils literal notranslate"><span class="pre">&quot;MRP&quot;</span></code> in <em>Config&gt;Points</em>.  This makes it easier to
change the reference point, but the <em>Config&gt;Points</em> parameter has some other
advantages.  It can automatically be translated by a run matrix variable (i.e.
trajectory key); for example, it could be used to keep track of a point on the
leading edge of a deflected fin.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">&quot;DataBook&quot;</span></code> section defines which quantities are of interest for
recording into a database.  A <code class="docutils literal notranslate"><span class="pre">&quot;DataBook&quot;</span></code> has data that is stored outside of
the run folders and has a more permanent feeling.  The portion of the JSON file
is shown below.</p>
<blockquote>
<div><div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;DataBook&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// List of data book components</span>
<span class="w">    </span><span class="s2">&quot;Components&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;cap&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;body&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fins&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;arrow_no_base&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;arrow_total&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fuselage&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fin1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fin2&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fin3&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fin4&quot;</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="c1">// Location of data book</span>
<span class="w">    </span><span class="s2">&quot;Folder&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;data/&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="c1">// Parameters for collecting data</span>
<span class="w">    </span><span class="s2">&quot;nFirst&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;nStats&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">100</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;nMin&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">100</span><span class="p">,</span>
<span class="w">    </span><span class="c1">// Basic component</span>
<span class="w">    </span><span class="s2">&quot;arrow_no_base&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;Type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;FM&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="s2">&quot;arrow_total&quot;</span><span class="o">:</span><span class="w">  </span><span class="p">{</span><span class="s2">&quot;Type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;FM&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="s2">&quot;fins&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;Type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;FM&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="s2">&quot;fin1&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;Type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;FM&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="s2">&quot;fin2&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;Type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;FM&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="s2">&quot;fin3&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;Type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;FM&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="s2">&quot;fin4&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;Type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;FM&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="s2">&quot;fuselage&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;Type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;FM&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;CompID&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;arrow_no_base&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-fins&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>The parameter <em>DataBook&gt;Components</em> lists the components that go into the
databook.  All of these except for <code class="docutils literal notranslate"><span class="pre">&quot;fuselage&quot;</span></code> were defined in
<em>Config&gt;Forces</em>, and some were also in <em>Config&gt;Moments</em>.  The default databook
component type for pyCart is <code class="docutils literal notranslate"><span class="pre">&quot;Force&quot;</span></code>; here we have changed the type to
<code class="docutils literal notranslate"><span class="pre">&quot;FM&quot;</span></code> (short for “force &amp; moment”) for components where the moment is
available.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">&quot;fuselage&quot;</span></code> key shows how we can in some cases get iterative histories
for components we forgot to track.  We define the <code class="docutils literal notranslate"><span class="pre">&quot;fuselage&quot;</span></code> component to
be the force and moment on <code class="docutils literal notranslate"><span class="pre">&quot;arrow_no_base&quot;</span></code> minus the force and moment onf
<code class="docutils literal notranslate"><span class="pre">&quot;fins&quot;</span></code>.  To add components, just omit the <code class="docutils literal notranslate"><span class="pre">&quot;-&quot;</span></code> prefix.</p>
</section>
<section id="databook-interface">
<h2><span class="section-number">4.1.7.2. </span>DataBook Interface<a class="headerlink" href="#databook-interface" title="Link to this heading">¶</a></h2>
<p>This example is set up so that the user can run the 30 cases using typical
commands introduced in previous examples.  However, the databook is already
provided in the <code class="docutils literal notranslate"><span class="pre">data/</span></code> folder.  It contains files such as <code class="docutils literal notranslate"><span class="pre">aero_cap.csv</span></code>,
<code class="docutils literal notranslate"><span class="pre">aero_body.csv</span></code>, and so on for each component in <em>DataBook&gt;Components</em>.  An
example file is partially shown below.</p>
<blockquote>
<div><p><a class="reference download internal" download="" href="../../../_downloads/3466c78c2aa255c71b499a56b37fbe2d/aero_arrow_no_base.csv"><code class="xref download docutils literal notranslate"><span class="pre">aero_arrow_no_base.csv</span></code></a>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Database statistics for &#39;arrow_no_base&#39; extracted on 2017-03-21 21:20:36
#
#mach,alpha,config,Label,CA,CY,CN, ... CA_min,CA_max,CA_std, ... nOrders,nIter,nStats
0.5,0,poweroff,,0.3478,-0.0002,0.02083, ... 5.02,200,100
...
2.2,10,poweroff,,0.8580,0.0002,0.9261, ... 1.51,200,100
</pre></div>
</div>
</div></blockquote>
<p><strong>Note:</strong> the data book is not created or updated automatically once the cases
are completed.  The data book is only created or updated using the command
<code class="docutils literal notranslate"><span class="pre">pycart</span> <span class="pre">--aero</span></code>.  For this example, the data book already exists, but for
practical usage this is an important step.</p>
<p>One can interact with the data book from any Python interactive shell (IPython
is highly recommended).  This example shows how to interface with the databook,
which can be a useful skill to investigate trends, etc.</p>
<blockquote>
<div><div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cape.pycart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cntl</span> <span class="o">=</span> <span class="n">pyCart</span><span class="o">.</span><span class="n">Cntl</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cntl</span><span class="o">.</span><span class="n">ReadDataBook</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cntl</span><span class="o">.</span><span class="n">DataBook</span><span class="o">.</span><span class="n">Components</span>
<span class="go">[u&#39;cap&#39;,</span>
<span class="go"> u&#39;body&#39;,</span>
<span class="go"> u&#39;fins&#39;,</span>
<span class="go"> u&#39;arrow_no_base&#39;,</span>
<span class="go"> u&#39;arrow_total&#39;,</span>
<span class="go"> u&#39;fuselage&#39;,</span>
<span class="go"> u&#39;fin1&#39;,</span>
<span class="go"> u&#39;fin2&#39;,</span>
<span class="go"> u&#39;fin3&#39;,</span>
<span class="go"> u&#39;fin4&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">DBfins</span> <span class="o">=</span> <span class="n">cntl</span><span class="o">.</span><span class="n">DataBook</span><span class="p">[</span><span class="s1">&#39;fins&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">I</span> <span class="o">=</span> <span class="n">cntl</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">Filter</span><span class="p">([</span><span class="s1">&#39;alpha==2&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">DBfins</span><span class="o">.</span><span class="n">PlotCoeff</span><span class="p">(</span><span class="s1">&#39;CN&#39;</span><span class="p">,</span> <span class="n">I</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>This quick example opens up a <code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib</span></code> figure which leads to the
result in <a class="reference internal" href="#fig-pycart-ex07-raw-cn"><span class="std std-numref">Figure 4.10</span></a>.  However, it is usually easier to
use the <code class="docutils literal notranslate"><span class="pre">pycart</span> <span class="pre">--report</span></code> command.</p>
<blockquote>
<div><figure class="align-default" id="id1">
<span id="fig-pycart-ex07-raw-cn"></span><a class="reference internal image-reference" href="../../../_images/fig1.png"><img alt="../../../_images/fig1.png" src="../../../_images/fig1.png" style="width: 3.8in;" />
</a>
<figcaption>
<p><span class="caption-number">Figure 4.10 </span><span class="caption-text">Example plot of <em>CN</em> created from pyCart DataBook API</span><a class="headerlink" href="#id1" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</div></blockquote>
</section>
<section id="reports">
<h2><span class="section-number">4.1.7.3. </span>Reports<a class="headerlink" href="#reports" title="Link to this heading">¶</a></h2>
<p>Options for automated reports are set in the <code class="docutils literal notranslate"><span class="pre">&quot;Reports&quot;</span></code> section of the JSON
file.  This example defines four reports, and all of them are so-called “Sweep”
reports.  Instead of plotting iterative histories for each case, plots are made
for the forces and moments for a collection of cases.  This results in, for
example, plots of normal force as a function of Mach number.  The header
section of the <code class="docutils literal notranslate"><span class="pre">&quot;Reports&quot;</span></code> section is shown below.</p>
<blockquote>
<div><div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Report&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// List of reports</span>
<span class="w">    </span><span class="s2">&quot;Reports&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;mach&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;mach-carpet&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;alpha&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;alpha-carpet&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="c1">// Define the report</span>
<span class="w">    </span><span class="s2">&quot;mach&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;Title&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Cart3D Force \\&amp; Moment Mach Sweep&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;Subtitle&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Example \\texttt{07\\_data\\_arrow}&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;Restriction&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;pyCart Example - Distribution Unlimited&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;Sweeps&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;mach&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="s2">&quot;mach-carpet&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;Title&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Cart3D Force \\&amp; Moment Mach Sweep&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;Subtitle&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Example \\texttt{07\\_data\\_arrow}&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;Restriction&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;pyCart Example - Distribution Unlimited&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;Sweeps&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;mach-carpet&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="s2">&quot;alpha&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;Title&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Cart3D Force \\&amp; Moment Mach Sweep&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;Subtitle&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Example \\texttt{07\\_data\\_arrow}&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;Restriction&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;pyCart Example - Distribution Unlimited&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;Sweeps&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;alpha&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="s2">&quot;alpha-carpet&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;Title&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Cart3D Force \\&amp; Moment Mach Sweep&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;Subtitle&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Example \\texttt{07\\_data\\_arrow}&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;Restriction&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;pyCart Example - Distribution Unlimited&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;Sweeps&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;alpha-carpet&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<section id="mach-sweeps">
<h3><span class="section-number">4.1.7.3.1. </span>Mach Sweeps<a class="headerlink" href="#mach-sweeps" title="Link to this heading">¶</a></h3>
<p>One can see that these are “sweep” reports because the key <em>Report&gt;Sweeps</em> key
is defined and <em>Report&gt;Figures</em> is not.  It is possible to put both into the
same report, but that’s not done here because the example is set up to be
possible without actually running the cases.  Anyway, try creating the first
report using the following command.</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pycart<span class="w"> </span>--report<span class="w"> </span>mach
</pre></div>
</div>
</div></blockquote>
<p>This creates five pages with nine Mach sweep plots per page.  Each page is a
single page, and there are five pages because we have a square run matrix with
five different angles of attack.  Rather than specifying too much detail, an
example plot is provided in <a class="reference internal" href="#fig-pycart-ex07-a2-fuselage-clm"><span class="std std-numref">Figure 4.11</span></a> and
<a class="reference internal" href="#fig-pycart-ex07-a2-fins-cn"><span class="std std-numref">Figure 4.12</span></a>.</p>
<blockquote>
<div><figure class="align-default" id="id2">
<span id="fig-pycart-ex07-a2-fuselage-clm"></span><a class="reference internal image-reference" href="../../../_images/mach_fuse_CLM.png"><img alt="../../../_images/mach_fuse_CLM.png" src="../../../_images/mach_fuse_CLM.png" style="width: 3.8in;" />
</a>
<figcaption>
<p><span class="caption-number">Figure 4.11 </span><span class="caption-text">Mach sweep of <code class="docutils literal notranslate"><span class="pre">fuselage</span></code>/<em>CLM</em> at 2 degrees angle of attack</span><a class="headerlink" href="#id2" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id3">
<span id="fig-pycart-ex07-a2-fins-cn"></span><a class="reference internal image-reference" href="../../../_images/mach_fins_CN.png"><img alt="../../../_images/mach_fins_CN.png" src="../../../_images/mach_fins_CN.png" style="width: 3.8in;" />
</a>
<figcaption>
<p><span class="caption-number">Figure 4.12 </span><span class="caption-text">Mach sweep of <em>CN</em> on each fin at 2 degrees angle of attack</span><a class="headerlink" href="#id3" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</div></blockquote>
<p>The inputs that led to these two figures (<em>mach_fuse_CLM</em> for
<a class="reference internal" href="#fig-pycart-ex07-a2-fuselage-clm"><span class="std std-numref">Figure 4.11</span></a>; <em>mach_fins_CN</em> for
<a class="reference internal" href="#fig-pycart-ex07-a2-fins-cn"><span class="std std-numref">Figure 4.12</span></a>) are shown below.  This is an excerpt from
the <em>Report&gt;Subfigures</em> section of <code class="docutils literal notranslate"><span class="pre">pyCart.json</span></code>.</p>
<blockquote>
<div><div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Mach sweep</span>
<span class="s2">&quot;mach_arrow&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;Type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;SweepCoeff&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;Width&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">0.33</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;FigureWidth&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">5.5</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;FigureHeight&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">4.2</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;LineOptions&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;marker&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;o&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;color&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;g&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;m&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;darkorange&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;purple&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="s2">&quot;ls&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;-&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="s2">&quot;Component&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;arrow_no_base&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;XLabel&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Mach number&quot;</span>
<span class="p">},</span>
<span class="s2">&quot;mach_fuse_CLM&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;Type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;mach_arrow&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;Component&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;fuselage&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;Coefficient&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;CLM&quot;</span>
<span class="p">},</span>
<span class="s2">&quot;mach_fins_CN&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;Type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;mach_arrow&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;Component&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;fin1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;fin2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;fin3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;fin4&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="s2">&quot;Coefficient&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;CN&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>The <em>Type</em> parameter is set to <code class="docutils literal notranslate"><span class="pre">&quot;SweepCoeff&quot;</span></code> here for each plot.  The full
path to this setting is <em>Report&gt;Subfigures&gt;mach_arrow&gt;Type</em>, and this setting
is inherited by all the other <code class="docutils literal notranslate"><span class="pre">mach_*</span></code> subfigures.  In
<em>mach_arrow&gt;LineOptions</em>, we set formatting options to be used by the Mach
sweep plots.  A list of values, such as shown here in <em>color</em>, causes pyCart to
cycle through the different plot styles.  In this example, the first line is
blue, the second line is green, etc.  See <code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib</span></code> for a full set of
available plot options.</p>
<p>The main settings are <em>Component</em> and <em>Coefficient</em>.  Once the main template
for the subfigures is set (here in <em>mach_arrow</em>), the other plots can usually
be created by just changing the <em>Component</em> and <em>Coefficient</em>.</p>
<p>The <em>mach_fins_CN</em> subfigure also demonstrates how users can plot multiple
lines on the same plot by having a list of components.
<a class="reference internal" href="#fig-pycart-ex07-a2-fins-cn"><span class="std std-numref">Figure 4.12</span></a> shows this example.  Because the sideslip
is zero, the two fins on the side, fin 2 and fin 4 are right on top of each
other.  The top fin (fin 1) and bottom fin (fin 3) are not as symmetric.</p>
<p>Users are encouraged to create the report and explore the other aspects of the
example in the resulting PDF and the JSON file.</p>
</section>
<section id="carpet-plots">
<h3><span class="section-number">4.1.7.3.2. </span>Carpet Plots<a class="headerlink" href="#carpet-plots" title="Link to this heading">¶</a></h3>
<p>In order to get into the plots quicker, the previous subsection skipped the
definition of the actual sweeps.  The <em>Report&gt;Sweeps</em> definition from
<code class="docutils literal notranslate"><span class="pre">pyCart.json</span></code> is shown below.</p>
<blockquote>
<div><div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Sweeps&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Mach sweep</span>
<span class="w">    </span><span class="s2">&quot;mach&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;Figures&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;SweepTables&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;MachSweep&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="s2">&quot;EqCons&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;alpha&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="s2">&quot;XAxis&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;mach&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="c1">// Mach sweep with alpha carpet</span>
<span class="w">    </span><span class="s2">&quot;mach-carpet&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;Figures&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;SweepTables&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;MachSweep&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="s2">&quot;EqCons&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">        </span><span class="s2">&quot;CarpetEqCons&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;alpha&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="s2">&quot;XAxis&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;mach&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="c1">// Alpha sweep</span>
<span class="w">    </span><span class="s2">&quot;alpha&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;Figures&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;SweepTables&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AlphaSweep&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="s2">&quot;EqCons&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;mach&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="s2">&quot;XAxis&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;alpha&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="c1">// Alpha sweep with Mach carpet</span>
<span class="w">    </span><span class="s2">&quot;alpha-carpet&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;Figures&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;SweepTables&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AlphaSweep&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="s2">&quot;EqCons&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">        </span><span class="s2">&quot;CarpetEqCons&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;mach&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="s2">&quot;XAxis&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;alpha&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Notice in the excerpt from the top level of the <code class="docutils literal notranslate"><span class="pre">&quot;Report&quot;</span></code> section at the
beginning of this example, each named “report” has a <em>Sweeps</em> key.  That
selects one or more “sweep” from <em>Report&gt;Sweeps</em>.  Inspecting the JSON file
probably makes more sense than this attempt to explain it in words.</p>
<p>Anyway, the <code class="docutils literal notranslate"><span class="pre">&quot;mach&quot;</span></code> sweep lists two figures, <code class="docutils literal notranslate"><span class="pre">&quot;SweepTables&quot;</span></code> and
<code class="docutils literal notranslate"><span class="pre">&quot;MachSweep&quot;</span></code>, and more importantly an “equality constraint” in the form of
setting <em>EqCons</em> to <code class="docutils literal notranslate"><span class="pre">[&quot;alpha&quot;]</span></code>.  This means that each case that goes into
one Mach sweep must have the same value of <em>alpha</em>.  It is also possible to use
<em>TolCons</em> which allows the user to specify that all cases must have an angle of
attack within a certain tolerance.  The <em>TolCons</em> key is especially useful for
comparing results to wind tunnel data, which may have some slight variations in
test conditions.</p>
<p>In addition to <em>EqCons</em> and <em>TolCons</em>, there is also <em>GlobalCons</em>, which limits
which cases are eligible to be included in any sweep.  For example, we could
set <code class="docutils literal notranslate"><span class="pre">&quot;GlobalCons&quot;:</span> <span class="pre">[&quot;mach</span> <span class="pre">&gt;</span> <span class="pre">1.0&quot;]</span></code> to limit the results to only supersonic
cases.</p>
<p>Also, the <code class="docutils literal notranslate"><span class="pre">&quot;Figures&quot;</span></code> key works in the same way within <code class="docutils literal notranslate"><span class="pre">&quot;Sweeps&quot;</span></code> as it
does in regular reports.  See the previous examples and the example
<code class="docutils literal notranslate"><span class="pre">pyCart.json</span></code> for more information on how to define figures.  Finally,
the <em>XAxis</em> key simply designates a run matrix variable (trajectory key) to use
as the independent variable in the plots.</p>
<p>The focus of this subsection is the <code class="docutils literal notranslate"><span class="pre">&quot;mach-carpet&quot;</span></code> sweep and its use of
<em>CarpetEqCons</em>.  Both <em>CarpetEqCons</em> and <em>CarpetTolCons</em> work in a similar way
to <em>EqCons</em> and <em>TolCons</em>.  However, “carpet” constraints allow the user to
plot multiple sweeps on the same figure.  Here the report <code class="docutils literal notranslate"><span class="pre">&quot;mach-report&quot;</span></code> has
no <em>EqCons</em>, so the entire run matrix goes into the same result, and there is
only one page of plots in the automated report.</p>
<p>Create the carpet plot by running the following command:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pycart<span class="w"> </span>--report<span class="w"> </span>mach-carpet
</pre></div>
</div>
</div></blockquote>
<p>A pair of selected plots from this report are shown in
<a class="reference internal" href="#fig-pycart-ex07-fuselage-mach-carpet-clm"><span class="std std-numref">Figure 4.13</span></a> and
<a class="reference internal" href="#fig-pycart-ex07-arrow-mach-carpet-cn"><span class="std std-numref">Figure 4.14</span></a>.  There are five curves in each
of the two figures, each with a different color.  Each individual curve is a
Mach sweep at a constant angle of attack.</p>
<blockquote>
<div><figure class="align-default" id="id4">
<span id="fig-pycart-ex07-fuselage-mach-carpet-clm"></span><a class="reference internal image-reference" href="../../../_images/mach_fuse_CLM1.png"><img alt="../../../_images/mach_fuse_CLM1.png" src="../../../_images/mach_fuse_CLM1.png" style="width: 3.8in;" />
</a>
<figcaption>
<p><span class="caption-number">Figure 4.13 </span><span class="caption-text">Mach sweeps of <code class="docutils literal notranslate"><span class="pre">fuselage</span></code> pitching moment</span><a class="headerlink" href="#id4" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id5">
<span id="fig-pycart-ex07-arrow-mach-carpet-cn"></span><a class="reference internal image-reference" href="../../../_images/mach_arrow_CN.png"><img alt="../../../_images/mach_arrow_CN.png" src="../../../_images/mach_arrow_CN.png" style="width: 3.8in;" />
</a>
<figcaption>
<p><span class="caption-number">Figure 4.14 </span><span class="caption-text">Mach sweeps of <code class="docutils literal notranslate"><span class="pre">fuselage</span></code> normal force coefficient</span><a class="headerlink" href="#id5" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</div></blockquote>
<p>This is probably the most informative type of plot for a CFD configuration if
the main product is a force &amp; moment database.  For example
<a class="reference internal" href="#fig-pycart-ex07-fuselage-mach-carpet-clm"><span class="std std-numref">Figure 4.13</span></a> shows that the fuselage on
its own transitions from stable to unstable at Mach 1 (although the fins more
than make up for the static instability with the moment reference point).
<a class="reference internal" href="#fig-pycart-ex07-arrow-mach-carpet-cn"><span class="std std-numref">Figure 4.14</span></a> shows that the overall normal
force coefficient is mainly a function of angle of attack but with a spike
around Mach 1.</p>
</section>
<section id="angle-of-attack-sweeps">
<h3><span class="section-number">4.1.7.3.3. </span>Angle of Attack Sweeps<a class="headerlink" href="#angle-of-attack-sweeps" title="Link to this heading">¶</a></h3>
<p>Reconfiguring these plots to be angle of attack sweeps is straightforward.
<a class="reference internal" href="#fig-pycart-ex07-fuselage-alpha-carpet-clm"><span class="std std-numref">Figure 4.15</span></a> is the counterpart to
<a class="reference internal" href="#fig-pycart-ex07-fuselage-mach-carpet-clm"><span class="std std-numref">Figure 4.13</span></a>, and
<a class="reference internal" href="#fig-pycart-ex07-arrow-alpha-carpet-cn"><span class="std std-numref">Figure 4.16</span></a> is the counterpart to
<a class="reference internal" href="#fig-pycart-ex07-arrow-mach-carpet-cn"><span class="std std-numref">Figure 4.14</span></a>.  These plots are created by
running <code class="docutils literal notranslate"><span class="pre">pycart</span> <span class="pre">--report</span> <span class="pre">alpha-carpet</span></code>.</p>
<blockquote>
<div><figure class="align-default" id="id6">
<span id="fig-pycart-ex07-fuselage-alpha-carpet-clm"></span><a class="reference internal image-reference" href="../../../_images/aoa_fuse_CLM.png"><img alt="../../../_images/aoa_fuse_CLM.png" src="../../../_images/aoa_fuse_CLM.png" style="width: 3.8in;" />
</a>
<figcaption>
<p><span class="caption-number">Figure 4.15 </span><span class="caption-text">Alpha sweeps of <code class="docutils literal notranslate"><span class="pre">fuselage</span></code> pitching moment</span><a class="headerlink" href="#id6" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id7">
<span id="fig-pycart-ex07-arrow-alpha-carpet-cn"></span><a class="reference internal image-reference" href="../../../_images/aoa_arrow_CN.png"><img alt="../../../_images/aoa_arrow_CN.png" src="../../../_images/aoa_arrow_CN.png" style="width: 3.8in;" />
</a>
<figcaption>
<p><span class="caption-number">Figure 4.16 </span><span class="caption-text">Alpha sweeps of <code class="docutils literal notranslate"><span class="pre">fuselage</span></code> normal force coefficient</span><a class="headerlink" href="#id7" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</div></blockquote>
<p>The trends with angle of attack are relatively straightforward.  In this narrow
range of angle of attack, it anticipated that the normal force would be linear
with <em>alpha</em>.  Interestingly, the fuselage <em>CLM</em> vs <em>alpha</em> curve has a stable
slope only at Mach 0.5 (and kind of 0.8).</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/NASA_logo.png" alt="Logo of CAPE"/>
            </a></p>
  <div>
    <h3><a href="../../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">4.1.7. Demo 7: Data Book Plots and Reports</a><ul>
<li><a class="reference internal" href="#setup">4.1.7.1. Setup</a></li>
<li><a class="reference internal" href="#databook-interface">4.1.7.2. DataBook Interface</a></li>
<li><a class="reference internal" href="#reports">4.1.7.3. Reports</a><ul>
<li><a class="reference internal" href="#mach-sweeps">4.1.7.3.1. Mach Sweeps</a></li>
<li><a class="reference internal" href="#carpet-plots">4.1.7.3.2. Carpet Plots</a></li>
<li><a class="reference internal" href="#angle-of-attack-sweeps">4.1.7.3.3. Angle of Attack Sweeps</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="../06-lineload_arrow/index.html"
                          title="previous chapter"><span class="section-number">4.1.6. </span>Demo 6: Line Loads on the Arrow Example</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="../08-thrust/index.html"
                          title="next chapter"><span class="section-number">4.1.8. </span>Demo 8: Powered Rocket and Thrust Vectoring</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/pycart/examples/07-data_arrow/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../08-thrust/index.html" title="4.1.8. Demo 8: Powered Rocket and Thrust Vectoring"
             >next</a> |</li>
        <li class="right" >
          <a href="../06-lineload_arrow/index.html" title="4.1.6. Demo 6: Line Loads on the Arrow Example"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">CAPE 2.0.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" ><span class="section-number">4. </span>pyCart Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" ><span class="section-number">4.1. </span>Examples Using pyCart</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">4.1.7. </span>Demo 7: Data Book Plots and Reports</a></li> 
      </ul>
    </div>

  <div class="footer">
   CAPE version 2.0.0 documentation, 2025
  </div>


  </body>
</html>