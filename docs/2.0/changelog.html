<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Changelog &#8212; CAPE 2.0.0</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/sphinxdoc.css?v=87629129" />
    <script src="_static/documentation_options.js?v=51b770b3"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="_static/NASA_logo_icon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Introduction to CAPE Application Program Interface" href="api/index.html" />
    <link rel="prev" title="7.23. triqfm: Calculate forces and moments on a .triq file" href="bin/triqfm.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api/index.html" title="Introduction to CAPE Application Program Interface"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="bin/triqfm.html" title="7.23. triqfm: Calculate forces and moments on a .triq file"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CAPE 2.0.0</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Changelog</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Link to this heading">¶</a></h1>
<section id="release-2-0-0">
<h2>Release 2.0.0<a class="headerlink" href="#release-2-0-0" title="Link to this heading">¶</a></h2>
<section id="new-features">
<h3>New Features<a class="headerlink" href="#new-features" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Added a command <code class="docutils literal notranslate"><span class="pre">cape</span> <span class="pre">--1to2</span></code> to help update Python files written against
the CAPE 1.2 API to the newer module names mentioned below.</p></li>
<li><p>New command-line interface. The CLI supports the commands that would have
worked for CAPE 1 but also support a new method that allows the user to be
more explicit about the primary purpose of the command. For example</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pyfun<span class="w"> </span>--re<span class="w"> </span><span class="s2">&quot;m1.2&quot;</span><span class="w"> </span>--report
</pre></div>
</div>
<p>is the same as</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pyfun<span class="w"> </span>report<span class="w"> </span>--re<span class="w"> </span><span class="s2">&quot;m1.2&quot;</span>
</pre></div>
</div>
<p>The new CLI also implements checks so that misspelled or unrecognized
options will result in an error instead of just ignoring those options.</p>
</li>
<li><p>Created a new executable <code class="docutils literal notranslate"><span class="pre">cape-tec</span></code> that takes a Tecplot(R) layout file
as input and exports a PNG from that layout.</p></li>
<li><p>Rewritten interface to <em>RunControl</em> &gt; <em>Archive</em>. Users may now prescribe
“only keep the most recent file of this set” of multiple patterns in a
single line. For example …</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Archive&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;SearchMethod&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;regex&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;clean&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;PreDeleteFiles&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="s2">&quot;pyfun[0-9]+_([a-z][a-z0-9_-]+)_timestep[0-9]+\\.plt&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This will delete most Tecplot <code class="docutils literal notranslate"><span class="pre">.plt</span></code> files but keep the most recent <code class="docutils literal notranslate"><span class="pre">1</span></code>
matches. The new feature is that it will collect all the files that match
this regular expression but divide them into separate lists for all the
unique values of the regular expression group (the part inside
parentheses). So if you have the following files:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pyfun00_plane-y0_timestep1000.plt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pyfun00_tec_boundary_timestep1000.plt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pyfun01_plane-y0_timestep2000.plt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pyfun01_tec_boundary_timestep2000.plt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pyfun02_plane-y0_timestep3000.plt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pyfun02_plane-y0_timestep4000.plt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pyfun02_tec_boundary_timestep3000.plt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pyfun02_tec_boundary_timestep4000.plt</span></code></p></li>
</ul>
</div></blockquote>
<p>Then it would delete most of these files but only keep</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pyfun02_plane-y0_timestep4000.plt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pyfun02_tec_boundary_timestep4000.plt</span></code></p></li>
</ul>
</div></blockquote>
<p>This would not have been possible in CAPE 1; users would need to provide
two separate instructions.</p>
</li>
<li><p>A <em>RunMatrix</em> key with the type <code class="docutils literal notranslate"><span class="pre">&quot;translation&quot;</span></code> can now use two named
points as the <code class="docutils literal notranslate"><span class="pre">&quot;Vector&quot;</span></code>. This means that the direction that a component
is translated can be affected by prior <em>RunMatrix</em> keys</p></li>
</ul>
</section>
<section id="behavior-changes">
<h3>Behavior Changes<a class="headerlink" href="#behavior-changes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Many modules have been renamed, including renaming the <code class="docutils literal notranslate"><span class="pre">case</span></code> modules to
the less-confusing name <code class="docutils literal notranslate"><span class="pre">casecntl</span></code>. In addition, the main <code class="docutils literal notranslate"><span class="pre">cntl</span></code> module
has been moved into the <code class="docutils literal notranslate"><span class="pre">cape.cfdx</span></code> folder.</p></li>
</ul>
</section>
<section id="bugs-fixed">
<h3>Bugs Fixed<a class="headerlink" href="#bugs-fixed" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Determination of number of available MPI ranks on Slurm jobs</p></li>
</ul>
</section>
</section>
<section id="release-1-2-1">
<h2>Release 1.2.1<a class="headerlink" href="#release-1-2-1" title="Link to this heading">¶</a></h2>
<section id="id1">
<h3>New Features<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Each case now generates logs, which are helpful for debugging or just
understanding the sequence of actions CAPE takes. The two log files within
each case are <code class="docutils literal notranslate"><span class="pre">cape/cape-main.log</span></code> and <code class="docutils literal notranslate"><span class="pre">cape/cape-verbose.log</span></code>).</p></li>
<li><p>PBS/Slurm job names are now longer (32 chars instead of 15), and the length
is configurable (<em>RunMatrix</em> &gt; <em>MaxJobNameLength</em>).</p></li>
</ul>
</section>
<section id="id2">
<h3>Behavior Changes<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>PBS/Slurm job IDs are now saved as the full string instead of just the
job number (often something like <code class="docutils literal notranslate"><span class="pre">123456.pbspl1</span></code>)</p></li>
<li><p>The extensions are now build against NumPy version 2.0+ for Python 3.10
and later. The Python 3.9 extension is still build against NumPy 1.x.</p></li>
</ul>
</section>
<section id="id3">
<h3>Bugs Fixed<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Better support of newer <code class="docutils literal notranslate"><span class="pre">aero.csh</span></code> script for Cart3D</p></li>
<li><p>Various compatibility issues with NumPy 2.0 release</p></li>
</ul>
</section>
</section>
<section id="release-1-2-0">
<h2>Release 1.2.0<a class="headerlink" href="#release-1-2-0" title="Link to this heading">¶</a></h2>
<p>CAPE 1.2 is a smaller change than CAPE 1.1 and focuses on improving the quality
of CAPE’s underlying code. Many modules have been de-linted, and some of the
older modules have been rewritten. Test coverage is also significantly
improved.</p>
<section id="id4">
<h3>New Features<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The iterative histories (both <code class="docutils literal notranslate"><span class="pre">CaseFM</span></code> and <code class="docutils literal notranslate"><span class="pre">CaseResid</span></code>) now create a
cache file so that CAPE can read them in much faster after the first read.
It also creates a uniform file format for users who might be interested in
saving iterative histories.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">TSVTecDatFile</span></code> class to read Tecplot-style column-data into
<code class="docutils literal notranslate"><span class="pre">DataKit</span></code>. See
<a class="reference external" href="https://nasa.github.io/cape-doc/1.2/api/attdb/ftypes/tecdatfile.html">https://nasa.github.io/cape-doc/1.2/api/attdb/ftypes/tecdatfile.html</a></p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">--incremental</span></code> option (or set <em>RunControl</em> <span class="menuselection">‣</span> <em>StartNextPhase</em> to
<code class="docutils literal notranslate"><span class="pre">False</span></code>) option to run one phase at a time. See
<a class="reference external" href="https://nasa.github.io/cape-doc/1.2/common/json/RunControl.html">https://nasa.github.io/cape-doc/1.2/common/json/RunControl.html</a> for the
<em>StartNextPhase</em> option and/or
<a class="reference external" href="https://nasa.github.io/cape-doc/1.2/bin/pyfun.html">https://nasa.github.io/cape-doc/1.2/bin/pyfun.html</a> for <code class="docutils literal notranslate"><span class="pre">--incremental</span></code>.</p></li>
</ul>
</section>
<section id="id5">
<h3>Behavior Changes<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The iterative history modules, <code class="docutils literal notranslate"><span class="pre">CaseFM</span></code> and <code class="docutils literal notranslate"><span class="pre">CaseResid</span></code>, are now
subclasses of <code class="docutils literal notranslate"><span class="pre">DataKit</span></code>. Among other things, this means that what used to
be <code class="docutils literal notranslate"><span class="pre">fm.CN</span></code> is now <code class="docutils literal notranslate"><span class="pre">fm[&quot;CN&quot;]</span></code>. This is a major improvement to making
those classes extensible for histories of things other than forces &amp;
moments.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">cape.filecntl.filecntl</span></code> module, which is critical to how CAPE
reads and modifies CFD input files, was rewritten and tested to 100%
coverage.</p></li>
<li><p>Rename some <em>RunControl</em> options to more understandable</p>
<ul class="simple">
<li><p><em>Resubmit</em> → <em>ResubmitNextPhase</em></p></li>
<li><p><em>Continue</em> → opposite of <em>ResubmitSamePhase</em></p></li>
</ul>
<p>(See <a class="reference external" href="https://nasa.github.io/cape-doc/1.2/common/json/RunControl.html">https://nasa.github.io/cape-doc/1.2/common/json/RunControl.html</a>)</p>
</li>
</ul>
</section>
<section id="id6">
<h3>Bugs Fixed<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The documentation now builds without warnings.</p></li>
</ul>
</section>
</section>
<section id="release-1-1-1-post2">
<h2>Release 1.1.1.post2<a class="headerlink" href="#release-1-1-1-post2" title="Link to this heading">¶</a></h2>
<section id="id7">
<h3>Bugs Fixed<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add (back) default <code class="docutils literal notranslate"><span class="pre">&quot;MuFormat&quot;</span></code> for coefficient table subfigures, which
was causing tables full of the text “<em>None</em>” in some cases</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">nmlfile</span></code> when saving a long string in an existing array</p></li>
<li><p>Fix default formatting of <code class="docutils literal notranslate"><span class="pre">user</span></code> and <code class="docutils literal notranslate"><span class="pre">tag</span></code> run matrix keys in
conditions table subfigures</p></li>
</ul>
</section>
</section>
<section id="release-1-1-1-post1">
<h2>Release 1.1.1.post1<a class="headerlink" href="#release-1-1-1-post1" title="Link to this heading">¶</a></h2>
<p>That’s a weird-looking version number…</p>
<p>This post-release fixes some issues that the testing suite did not catch
regarding the previous CAPE 1.1 releases.</p>
<section id="id8">
<h3>Bugs Fixed<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">TriRotate</span></code> and <code class="docutils literal notranslate"><span class="pre">TriTranslate</span></code> run matrix keys now work properly
again; they were not getting noticed as the correct key type in previous
1.1 releases.</p></li>
<li><p>Using a <code class="docutils literal notranslate"><span class="pre">list</span></code> inside a <code class="docutils literal notranslate"><span class="pre">&#64;map</span></code> <code class="docutils literal notranslate"><span class="pre">dict</span></code> now works with phase numbers in
<code class="docutils literal notranslate"><span class="pre">cape.optdict</span></code></p></li>
<li><p>Fixes to flow initializations for FUN3D for new <code class="docutils literal notranslate"><span class="pre">nmlfile</span></code> Fortran
namelist manipulation module</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">cape.nmlfile</span></code> namelist module now supports <em>N</em>-dimensional arrays,
whereas the <code class="docutils literal notranslate"><span class="pre">set_opt()</span></code> method didn’t support this before.</p></li>
</ul>
</section>
</section>
<section id="release-1-1-1">
<h2>Release 1.1.1<a class="headerlink" href="#release-1-1-1" title="Link to this heading">¶</a></h2>
<p>CAPE 1.1.1 introduces the optional <code class="docutils literal notranslate"><span class="pre">&quot;NJob&quot;</span></code> option, which can be placed in
the <code class="docutils literal notranslate"><span class="pre">&quot;RunControl&quot;</span></code> section. If you set this parameter to a positive integer,
CAPE will automatically keep that many jobs running. When one case finishes, it
will submit the appropriate number of new jobs until the total number of jobs
(not counting the one that is finishing) equals <code class="docutils literal notranslate"><span class="pre">NJob</span></code>. Using this option,
users can start a run matrix and keep a roughly fixed number of cases running
for long periods of time without having to manually check and/or submit new
jobs.</p>
<section id="features-added">
<h3>Features added<a class="headerlink" href="#features-added" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;RunControl&quot;</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">&quot;NJob&quot;</span></code> option</p></li>
</ul>
</section>
<section id="id9">
<h3>Bugs Fixed<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h3>
<p>(Same as Release 1.0.4)</p>
<ul class="simple">
<li><p>Allow spaces in strings when reading tab-delimited files using <code class="docutils literal notranslate"><span class="pre">DataKit</span></code>
or <code class="docutils literal notranslate"><span class="pre">TextDataFile</span></code>.</p></li>
<li><p>Fix some <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> imports to work with more <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> versions.</p></li>
<li><p>Switch order of <code class="docutils literal notranslate"><span class="pre">CaseFunction()</span></code> hook and <code class="docutils literal notranslate"><span class="pre">WriteCaseJSON()</span></code> in
<code class="docutils literal notranslate"><span class="pre">cape.pycart</span></code> so that <code class="docutils literal notranslate"><span class="pre">case.json</span></code> reflects options changes from all
hooks.</p></li>
</ul>
</section>
</section>
<section id="release-1-1-0">
<h2>Release 1.1.0<a class="headerlink" href="#release-1-1-0" title="Link to this heading">¶</a></h2>
<p>CAPE 1.1 incorporates an entirely new interface to how it reads the JSON files
that define most of the CAPE inputs. See <a class="reference internal" href="api/cape/optdict/index.html#module-cape.optdict" title="cape.optdict"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cape.optdict</span></code></a> for details about
the new options package and <a class="reference internal" href="api/cfdx/options/index.html#module-cape.cfdx.options" title="cape.cfdx.options"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cape.cfdx.options</span></code></a> for an gateway to the
CAPE-specific options for each section.</p>
<p>CAPE 1.1 removes support for Python 2.7. It supports Python 3.6+ (because
that’s the version available on standard Red Hat Enterprise Linux versions 7
and 8), but testing is performed in Python 3.9.</p>
<p>This change is meant to be backwards-compatible with CAPE 1.0 with respect to
the JSON files, so the same JSON file that worked with CAPE 1.0 <em>should</em> work
with CAPE 1.1. However, the API is not fully backward-compatible, so some user
scripts and any hooks may need to be modified for CAPE 1.1. Also, although CAPE
1.0 JSON files should be compatible with CAPE 1.1, there may be many warnings
when using CAPE 1.1.</p>
<p>CAPE 1.1 adds support for a fourth CFD solver, namely
Kestrel from the Department of Defense’s
<a class="reference external" href="https://centers.hpc.mil/CREATE/CREATE-AV.html">CREATE-AV</a> program.</p>
<p>There are three key features for CAPE 1.1 that all come from the incorporation
of <a class="reference internal" href="api/cape/optdict/index.html#module-cape.optdict" title="cape.optdict"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cape.optdict</span></code></a>:</p>
<ul class="simple">
<li><p>Option names, types, and values are checked and validated throughout the
JSON file. This contrasts with the CAPE 1.0 behavior where unrecognized
options (e.g. a spelling error) were silently ignored, and invalid values
(e.g. a <a class="reference internal" href="api/python.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> instead of an <a class="reference internal" href="api/python.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) may or may not result in
an Exception later.</p></li>
<li><p>JSON syntax errors generate much more helpful messages, especially if the
error is in a nested file using the <code class="docutils literal notranslate"><span class="pre">JSONFile()</span></code> directive.</p></li>
<li><p>All or nearly all settings in the JSON file (except in the <code class="docutils literal notranslate"><span class="pre">&quot;RunMatrix&quot;</span></code>
section) can vary with run matrix conditions using one of three methods.</p></li>
</ul>
<p>Related to the third bullet, you can use <code class="docutils literal notranslate"><span class="pre">&#64;cons</span></code> (constraints), <code class="docutils literal notranslate"><span class="pre">&#64;map</span></code>,
and <code class="docutils literal notranslate"><span class="pre">&#64;expr</span></code>. For example to set a CFL number equal to 2 times the Mach
number, assuming the <code class="docutils literal notranslate"><span class="pre">&quot;RunMatrix&quot;</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">&quot;Keys&quot;</span></code> includes a key called
<code class="docutils literal notranslate"><span class="pre">&quot;mach&quot;</span></code>, set</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;CFL&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;@epxr&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;2*$mach&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The next example demonstrates how to use a separate grid for supersonic and
subsonic conditions.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Mesh&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;File&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;@cons&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="s2">&quot;$mach &lt; 1&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;subsonic.ugrid&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;$mach &gt;= 1&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;supersonic.ugrid&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The third method is <code class="docutils literal notranslate"><span class="pre">&#64;map</span></code>, which might be used to use specific values based
on the value of some run matrix key. This example creates a map of how many PBS
nodes to use based on a run matrix key called <code class="docutils literal notranslate"><span class="pre">&quot;arch&quot;</span></code>.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;PBS&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;select&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;@map&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="s2">&quot;model1&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">10</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;model2&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">20</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="s2">&quot;key&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;arch&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can also nest these features, with the most common example having an
<code class="docutils literal notranslate"><span class="pre">&#64;expr</span></code> inside a <code class="docutils literal notranslate"><span class="pre">cons</span></code> set.</p>
<section id="id10">
<h3>Features added<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Better error messages for JSON syntax errors</p></li>
<li><p>Explicit checks for option names and option values in most of JSON file</p></li>
<li><p>Ability to easily vary almost any JSON parameter as a function of run
matrix conditions</p></li>
<li><p>Add support for Kestrel as fourth CFD solver (<a class="reference internal" href="api/pykes/index.html#module-cape.pykes" title="cape.pykes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cape.pykes</span></code></a>)</p></li>
</ul>
</section>
<section id="id11">
<h3>Bugs fixed<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Raise an exception if component list not found during <code class="docutils literal notranslate"><span class="pre">py{x}</span> <span class="pre">--ll</span></code>
(previously wrote invalid triload input files and encountered an error
later)</p></li>
</ul>
</section>
<section id="id12">
<h3>Behavior changes<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Drop support for Python 2.7.</p></li>
<li><p>FUN3D namelists no longer preserve text of template file; instead
<a class="reference internal" href="api/cape/nmlfile/index.html#cape.nmlfile.NmlFile" title="cape.nmlfile.NmlFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">cape.nmlfile.NmlFile</span></code></a> reads a namelist into a <a class="reference internal" href="api/python.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>.</p></li>
<li><p>Options modules and classes renamed to more reasonable convention, e.g.
<a class="reference internal" href="api/cfdx/options/runctlopts.html#cape.cfdx.options.runctlopts.RunControlOpts" title="cape.cfdx.options.runctlopts.RunControlOpts"><code class="xref py py-class docutils literal notranslate"><span class="pre">cape.cfdx.options.runctlopts.RunControlOpts</span></code></a>.</p></li>
<li><p>More readable <code class="xref py py-func docutils literal notranslate"><span class="pre">cape.pyfun.case.run_fun3d()</span></code> and other main loop runner
functions.</p></li>
</ul>
</section>
</section>
<section id="release-1-0-4">
<h2>Release 1.0.4<a class="headerlink" href="#release-1-0-4" title="Link to this heading">¶</a></h2>
<p>The test suite now runs with three Python versions: Python 2.7, 3.6, and 3.11.
We also found a way to create wheels with the <code class="docutils literal notranslate"><span class="pre">_cape2</span></code> or <code class="docutils literal notranslate"><span class="pre">_cape3</span></code>
extension module in more Python versions.</p>
<section id="id13">
<h3>Bugs Fixed<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Allow spaces in strings when reading tab-delimited files using <code class="docutils literal notranslate"><span class="pre">DataKit</span></code>
or <code class="docutils literal notranslate"><span class="pre">TextDataFile</span></code>.</p></li>
<li><p>Fix some <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> imports to work with more <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> versions.</p></li>
<li><p>Switch order of <code class="docutils literal notranslate"><span class="pre">CaseFunction()</span></code> hook and <code class="docutils literal notranslate"><span class="pre">WriteCaseJSON()</span></code> in
<code class="docutils literal notranslate"><span class="pre">cape.pycart</span></code> so that <code class="docutils literal notranslate"><span class="pre">case.json</span></code> reflects options changes from all
hooks.</p></li>
</ul>
</section>
</section>
<section id="release-1-0-3">
<h2>Release 1.0.3<a class="headerlink" href="#release-1-0-3" title="Link to this heading">¶</a></h2>
<section id="id14">
<h3>Features added<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">&quot;Config&quot;</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">&quot;KeepTemplateComponents&quot;</span></code> for pyfun, which tells
pyfun to add components to the <code class="docutils literal notranslate"><span class="pre">'component_parameters'</span></code> section rather
than replacing it.</p></li>
<li><p>Support FUN3D 14.0 (a change to the STDOUT used to measure progress
in <code class="docutils literal notranslate"><span class="pre">pyfun</span></code>)</p></li>
</ul>
</section>
<section id="id15">
<h3>Bugs fixed<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Properly tests if <code class="docutils literal notranslate"><span class="pre">grid.i.tri</span></code> is already present using <code class="docutils literal notranslate"><span class="pre">usurp</span></code> for
<code class="docutils literal notranslate"><span class="pre">pyover</span> <span class="pre">--ll</span></code></p></li>
<li><p>Raise an exception if component list not found during <code class="docutils literal notranslate"><span class="pre">py{x}</span> <span class="pre">--ll</span></code>
(previously wrote invalid triload input files and ecnountered an error
later)</p></li>
</ul>
</section>
</section>
<section id="release-1-0-2-post1">
<h2>Release 1.0.2.post1<a class="headerlink" href="#release-1-0-2-post1" title="Link to this heading">¶</a></h2>
<section id="id16">
<h3>Bugs fixed<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Restore previous support for dictionaries like</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;sampling_parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;plane_center(1:3, 2)&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
        <span class="s2">&quot;label(2)&quot;</span><span class="p">:</span> <span class="s2">&quot;plane-y1&quot;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>as inputs to <a class="reference internal" href="api/cape/filecntl/namelist.html#cape.filecntl.namelist.Namelist.ApplyDict" title="cape.filecntl.namelist.Namelist.ApplyDict"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cape.filecntl.namelist.Namelist.ApplyDict</span></code></a>. This is
related to GitHub issues #4 and #19.</p>
</li>
</ul>
</section>
</section>
<section id="release-1-0-2">
<h2>Release 1.0.2<a class="headerlink" href="#release-1-0-2" title="Link to this heading">¶</a></h2>
<section id="id17">
<h3>Features added<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">&quot;PostShellCmds&quot;</span></code> to <code class="docutils literal notranslate"><span class="pre">&quot;RunControl&quot;</span></code> for <a class="reference internal" href="api/pyover/index.html#module-cape.pyover" title="cape.pyover"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cape.pyover</span></code></a>;
allows users to add a list of commands that run after every call to
OVERFLOW</p></li>
<li><p>Support more recent versions of <code class="docutils literal notranslate"><span class="pre">aero.csh</span></code> in <a class="reference internal" href="api/pycart/index.html#module-cape.pycart" title="cape.pycart"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cape.pycart</span></code></a></p></li>
<li><p>Add command-line options to <code class="docutils literal notranslate"><span class="pre">py{x}</span> <span class="pre">--report</span></code>:</p>
<dl class="option-list">
<dt><kbd><span class="option">--report <var>RP</var></span></kbd></dt>
<dd><p>Update report named <em>RP</em> (default: first report in JSON file)</p>
</dd>
</dl>
<dl class="simple">
<dt>–report RP –force</dt><dd><p>Update report and ignore cache for all subfigures</p>
</dd>
<dt>–report RP –no-compile</dt><dd><p>Create images for a report but don’t compile into PDF</p>
</dd>
<dt>–report RP –rm</dt><dd><p>Delete existing caches of report subfigure images instead of
creating them</p>
</dd>
</dl>
</li>
<li><p>Add support for commas within strings in DataBooks and run matrices</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">&quot;A&quot;</span></code> option in <code class="docutils literal notranslate"><span class="pre">&quot;PBS&quot;</span></code> section</p></li>
<li><p>Allow <code class="docutils literal notranslate"><span class="pre">nodet_mpi</span></code> to set <code class="docutils literal notranslate"><span class="pre">&quot;nProc&quot;</span></code> automatically with Slurm</p></li>
<li><p>Add options <code class="docutils literal notranslate"><span class="pre">&quot;YLim&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;YMin&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;YMax&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;YLimMin&quot;</span></code> and likewise
for <code class="docutils literal notranslate"><span class="pre">&quot;PlotCoeff&quot;</span></code> subfigures.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;YLim&quot;</span></code>: list of explicit min and explicit max to use for <em>y</em>-axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;YMin&quot;</span></code>: explicit min to use for <em>y</em>-axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;YMax&quot;</span></code>: explicit max to use for <em>y</em>-axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;YLimMax&quot;</span></code>: outer bounds for <em>ymin</em> and <em>ymax</em>; CAPE will not plot a
<em>y</em>-value below <code class="docutils literal notranslate"><span class="pre">YLimMax[0]</span></code> but may have a min <em>y</em>-axis value greater
than that, and CAPE will not plot a <em>y</em>-value above <code class="docutils literal notranslate"><span class="pre">YLimMax[1]</span></code>. Also
supports using None (in Python) or null (in JSON) to use one of the
bounds. E.g. <code class="docutils literal notranslate"><span class="pre">&quot;YLimMax&quot;:</span> <span class="pre">[0.0,</span> <span class="pre">null]</span></code> will guarantee only positive
<em>y</em>-values are shown but not set an upper bound.</p></li>
<li><p>The same options, replacing <code class="docutils literal notranslate"><span class="pre">Y</span></code> with <code class="docutils literal notranslate"><span class="pre">X</span></code></p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="release-1-0-1">
<h2>Release 1.0.1<a class="headerlink" href="#release-1-0-1" title="Link to this heading">¶</a></h2>
<section id="id18">
<h3>Features added<a class="headerlink" href="#id18" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Warm-start capability for <a class="reference internal" href="api/pyfun/index.html#module-cape.pyfun" title="cape.pyfun"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cape.pyfun</span></code></a>, adds options <em>WarmStart</em> and
<em>WarmStartDir</em> to <code class="docutils literal notranslate"><span class="pre">&quot;RunControl&quot;</span></code>  section</p></li>
</ul>
</section>
<section id="id19">
<h3>Behavior changes<a class="headerlink" href="#id19" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Use <code class="xref py py-func docutils literal notranslate"><span class="pre">os.mkdir()</span></code> instead of <a class="reference internal" href="api/cfdx/options/index.html#cape.cfdx.options.Options.mkdir" title="cape.cfdx.options.Options.mkdir"><code class="xref py py-func docutils literal notranslate"><span class="pre">cape.cfdx.options.Options.mkdir()</span></code></a>
during archiving (affects resulting file permissions of new folders)</p></li>
<li><p>Write binary (<code class="docutils literal notranslate"><span class="pre">lr4</span></code>) instead of ASCII <code class="docutils literal notranslate"><span class="pre">.triq</span></code> files when using <em>it_avg</em>
in <a class="reference internal" href="api/pycart/index.html#module-cape.pycart" title="cape.pycart"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cape.pycart</span></code></a>; speeds up <code class="docutils literal notranslate"><span class="pre">pycart</span> <span class="pre">--ll</span></code> significantly</p></li>
<li><p>Allow users to write PNG or JPG files during <code class="docutils literal notranslate"><span class="pre">--report</span></code> commands w/o also
creating PDFs; also ability to include PNG or JPG into compiled report</p></li>
</ul>
</section>
<section id="bug-fixes">
<h3>Bug fixes<a class="headerlink" href="#bug-fixes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Better control of force &amp; moment requests in <a class="reference internal" href="api/pycart/index.html#module-cape.pycart" title="cape.pycart"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cape.pycart</span></code></a></p></li>
<li><p>Fix bug in reading some OVERFLOW iterative residual histories</p></li>
<li><p>Support columns with all <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> in
<code class="docutils literal notranslate"><span class="pre">cape.attdb.rdb.DataKit.write_csv()</span></code></p></li>
<li><p>Allow adding two <code class="docutils literal notranslate"><span class="pre">cape.pycart.dataBook.CaseFM</span></code> instances with
different iteration counts</p></li>
</ul>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/NASA_logo.png" alt="Logo of CAPE"/>
            </a></p>
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Changelog</a><ul>
<li><a class="reference internal" href="#release-2-0-0">Release 2.0.0</a><ul>
<li><a class="reference internal" href="#new-features">New Features</a></li>
<li><a class="reference internal" href="#behavior-changes">Behavior Changes</a></li>
<li><a class="reference internal" href="#bugs-fixed">Bugs Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-1-2-1">Release 1.2.1</a><ul>
<li><a class="reference internal" href="#id1">New Features</a></li>
<li><a class="reference internal" href="#id2">Behavior Changes</a></li>
<li><a class="reference internal" href="#id3">Bugs Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-1-2-0">Release 1.2.0</a><ul>
<li><a class="reference internal" href="#id4">New Features</a></li>
<li><a class="reference internal" href="#id5">Behavior Changes</a></li>
<li><a class="reference internal" href="#id6">Bugs Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-1-1-1-post2">Release 1.1.1.post2</a><ul>
<li><a class="reference internal" href="#id7">Bugs Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-1-1-1-post1">Release 1.1.1.post1</a><ul>
<li><a class="reference internal" href="#id8">Bugs Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-1-1-1">Release 1.1.1</a><ul>
<li><a class="reference internal" href="#features-added">Features added</a></li>
<li><a class="reference internal" href="#id9">Bugs Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-1-1-0">Release 1.1.0</a><ul>
<li><a class="reference internal" href="#id10">Features added</a></li>
<li><a class="reference internal" href="#id11">Bugs fixed</a></li>
<li><a class="reference internal" href="#id12">Behavior changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-1-0-4">Release 1.0.4</a><ul>
<li><a class="reference internal" href="#id13">Bugs Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-1-0-3">Release 1.0.3</a><ul>
<li><a class="reference internal" href="#id14">Features added</a></li>
<li><a class="reference internal" href="#id15">Bugs fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-1-0-2-post1">Release 1.0.2.post1</a><ul>
<li><a class="reference internal" href="#id16">Bugs fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-1-0-2">Release 1.0.2</a><ul>
<li><a class="reference internal" href="#id17">Features added</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-1-0-1">Release 1.0.1</a><ul>
<li><a class="reference internal" href="#id18">Features added</a></li>
<li><a class="reference internal" href="#id19">Behavior changes</a></li>
<li><a class="reference internal" href="#bug-fixes">Bug fixes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="bin/triqfm.html"
                          title="previous chapter"><span class="section-number">7.23. </span><code class="docutils literal notranslate"><span class="pre">triqfm</span></code>: Calculate forces and moments on a <code class="docutils literal notranslate"><span class="pre">.triq</span></code> file</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="api/index.html"
                          title="next chapter">Introduction to CAPE Application Program Interface</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/changelog.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api/index.html" title="Introduction to CAPE Application Program Interface"
             >next</a> |</li>
        <li class="right" >
          <a href="bin/triqfm.html" title="7.23. triqfm: Calculate forces and moments on a .triq file"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CAPE 2.0.0</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Changelog</a></li> 
      </ul>
    </div>

  <div class="footer">
   CAPE version 2.0.0 documentation, 2025
  </div>


  </body>
</html>